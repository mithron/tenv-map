<!DOCTYPE html><html class="testing" lang="en">
<head>
    <title>Tenvel map</title>    <meta charset="UTF-8">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    
    <link href="/css/bootstrap/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="/css/map.css" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css?family=Georgia" rel="stylesheet" type="text/css" />
        
    <script src="/js/require.js" data-main="/js/includes.js"></script>
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png" />
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/favicon-194x194.png" sizes="194x194" />
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192" />
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="msapplication-TileImage" content="/mstile-144x144.png" />
    <meta name="theme-color" content="#272b30" />
    
    <meta property="og:url" content="tenvel.mosrpg.ru" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Tenvel map" />
    <meta property="og:description" content="Tenvel map to poing out." />
    <meta property="og:image" content="http://tenvel.mosrpg.ru/android-chrome-192x192.png" />
    
            <link rel="alternate" href="http://tenvel.mosrpg.ru/" hreflang="en" />
        <link rel="alternate" href="http://tenvel.mosrpg.ru/" hreflang="de" />
        <link rel="alternate" href="http://tenvel.mosrpg.ru/" hreflang="es" />
        <link rel="alternate" href="http://tenvel.mosrpg.ru/" hreflang="fr" />
        <link rel="alternate" href="http://tenvel.mosrpg.ru/" hreflang="ja" />
        <link rel="alternate" href="http://tenvel.mosrpg.ru/" hreflang="ru" />
        <link rel="alternate" href="http://tenvel.mosrpg.ru/" hreflang="uk" />
        <link rel="alternate" href="http://tenvel.mosrpg.ru/" hreflang="zh" />
        
</head>
<body>
    <div id='tenvmap'> </div>
    <script>
    require(['jquery', 'leaflet', 'leafletMarkerSpiderfier', 'leafletSearch', 'leafletGroupedLayers'], function($, L){
        $(document).ready(function(){
            var tenvel = new L.LayerGroup();
            var vostorg = new L.LayerGroup();
            var gaaza = new L.LayerGroup();
            var david = new L.LayerGroup();
            var outskirts = new L.LayerGroup();
            var north = new L.LayerGroup();
            
            var mapGroups  = {
                historicalLocation      : new L.LayerGroup(),
                mysteryPOI              : new L.LayerGroup(),
                fortification           : new L.LayerGroup(),
                teslaTower              : new L.LayerGroup(),
                surfacePOI              : new L.LayerGroup(),
                
                vostorgRoute            : new L.LayerGroup(),
                gaazaRoute              : new L.LayerGroup(),
                davidRoute              : new L.LayerGroup(),
                raidersRoute            : new L.LayerGroup(),
                smpRoute                : new L.LayerGroup()
               
               
            };
            
            var POILayers           = new L.LayerGroup([ // Used by the search plugin only
                mapGroups.historicalLocation,
                mapGroups.mysteryPOI,
                mapGroups.fortification,
                mapGroups.teslaTower,
                mapGroups.surfacePOI
            ]);
            
            var groupsOffset     = {
                historicalLocation  : 50000,
                mysteryPOI          : 49950,
                fortification       : 49900,
                teslaTower          : 49000,
                surfacePOI          : 20000
               
            };
            
            // Leaflet layers to category names
            var categoriesToName = {
                1   : 'historicalLocation',
                2   : 'mysteryPOI',
                3   : 'fortification',
                4   : 'restrictedSectors',
                5   : 'teslaTower',
                6   : 'surfacePOI',
            };
            
                        // POI Modal
            var showModal = function(value){
                if(value.options != undefined)
                    value = value.options.values;
                
                var modal   = $('#poiModal');
                var header  = modal.find('.modal-title').html('');
                var body    = modal.find('.modal-body').html('');
                var footer  = modal.find('.modal-footer').html('');
                
                header.html('')
                                if(value.type != "davidRoute" && value.type != "vostorgRoute")
                {
                    header.html('<strong>' + value.name + '</strong><br />');
                    footer.html('Coordinates:</strong> ' + value.coordinates[0] + ' / ' + value.coordinates[1] + ' / ' + value.coordinates[2]);
                }
                else
                {
                    if(value.type == 'region')
                        header.html('<strong>' + value.name + ' (Region)</strong>');
                    else
                    {
                            header.html('<strong>' + value.name + '</strong>');
                    }
                }
                
                $.getJSON("/data/json-description", {id: value.id}, function(data){
                    body.html(data.html);
                    modal.modal('show');
                });
            };
            
             // Main menu
            var overlays = [
                                {
                    groupName : "Most prominent POIs",
                    expanded  : true,
                    layers    : { 
                        "Historical location"        : mapGroups.historicalLocation,
                        "Mystery POI"                : mapGroups.mysteryPOI,
                        "Fortification"              : mapGroups.fortification,
                        "Tesla tower"                : mapGroups.teslaTower,
                        "Surface POI"                : mapGroups.surfacePOI
                        
                    }   
                },
                {
                    groupName : "Routes",
                    expanded  : True,
                    layers    : { 
                        "First route"                                   : mapGroups.vostorgRoute,
                        "Gaaza route"                                   : mapGroups.gaazaRoute,
                        "Camp David route"                              : mapGroups.davidRoute,
                        "Raiders route"                                 : mapGroups.raidersRoute,
                        "North channel route"                           : mapGroups.smpRoute
                        
                    }   
                }
                            
                                                ,{
                    groupName : "Options",
                    expanded  : false,
                    layers    : {
                        "Tenvel" : tenvel, 
                        "Vostorg" : vostorg,
                        "Camp David" : david,
                        "Gaaza" : gaaza,
                        "Outer lands" : outskirts,
                        "North" : north
                        }
                }
          ];
          
            
            // Generate map
            var mainMap = L.map('tenvmap', {
                minZoom             : 2,
                maxZoom             : 7,
                attributionControl  : false,
                layers              : [
                                                                                                    
                    tenvel,
                    vostorg,
                    gaaza,
                    david,
                    outskirts,
                    north
                ]
            });
            
            
            var imageUrl = './images/maps/TNA_IR_128_3_231.png',
                southWest = L.latLng(51.4528832, -2.5951183),
                northEast = L.latLng(51.4558068, -2.5875938),
                bounds = L.latLngBounds(southWest, northEast),
                attributionText = "(c)Seldar";
                
            var tenvImage = L.imageOverlay(imageUrl, bounds, {attribution: attributionText}).addTo(mainMap);
                        
            
        })});
    </script>
</body>
</html>